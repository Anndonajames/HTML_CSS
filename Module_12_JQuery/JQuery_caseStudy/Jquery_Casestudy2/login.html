<html>

<head>
    <title>JQuery</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="bootstrap-3.3.7/bootstrap-3.3.7/docs/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="bootstrap-3.3.7/bootstrap-3.3.7/docs/dist/js/bootstrap.min.js">

    <script src="js/jquery-1.11.0.js"></script>
    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="script.js"></script>
    </script>

    <style>
        body {
            background-image: url(images/img1.jpg);
            background-repeat: no-repeat;
            background-size: cover;
        }
        
        .container {
            align-items: center;
        }
        
        .container input:focus~label {
            left: 0;
            top: -20px;
            color: red;
            font-size: 12px;
            font-weight: bold;
            text-align: center;
        }
        /* .container label {
            margin-left: -170px;
        }
         */
        
        .container input {
            border-bottom: 3px solid skyblue;
            border-left: none;
            border-right: none;
            border-top: none;
            margin-bottom: 20px;
            padding-top: 10px;
            padding-bottom: 10px;
        }
        /* .container input:focus {
            border-bottom: 2px blue;
            padding-top: 10px;
            padding-bottom: 10px;
        } */
        
        .container input:focus~label,
        .container input:valid~label {
            left: 0;
            top: -20px;
            color: blue;
            font-size: 12px;
            font-weight: bold;
            text-align: center;
        }
        
        form {
            padding-top: 50px;
            background-color: ghostwhite;
            margin: 100px 100px 100px 100px;
        }
        
        .form-text {
            border: none;
            border-bottom: 1px solid black;
            background: transparent;
            outline: none;
            height: 40px;
            color: black;
            font-size: 16px;
            margin-bottom: 20px;
        }
        
        .container span {
            border-right: 50px;
        }
        
        .container form div label {
            margin-left: 40px;
            position: absolute;
            top: 3px;
            pointer-events: none;
            left: 0;
            transition: .5s;
        }
        
        .container form div {
            position: relative;
        }
        
        .error_form {
            color: red;
        }
        
        .fa fa-lock {
            background-color: red;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1 id="name">Register</h1>
        <form id="registration_form">
            <div class="text1">
                <i class="fa fa-user-o fa-2x" aria-hidden="true"></i>
                <!-- user icon with size 2px -->
                <input type="text" id="form_name" id="f" name="" required="">
                <span class="error_form" id="fname_error_message"></span>
                <label>First Name</label>
            </div>
            <div class="text1">
                <i class="fa fa-user-o fa-2x" aria-hidden="true"></i>
                <input type="text" id="form_sname" name="" required="">
                <span class="error_form" id="sname_error_message"></span>
                <label>
             Second Name
            </label>
            </div>
            <div class="text1">
                <i class="fa fa-envelope fa-2x" aria-hidden="true"></i>
                <input type="email" id="form_email" name="" required="">
                <span class="error_form" id="email_error_message"></span>
                <label>
             Email
            </label>
            </div>
            <div class="text1">
                <i class="fa fa-user-o fa-2x" aria-hidden="true" id="icon"></i>
                <input type="password" id="form_password" name="" required="">
                <i class="fa fa-lock" aria-hidden="true"></i>
                <span class="error_form" id="password_error_message"></span>
                <label>
             Password
            </label>
            </div>
            <div class="text1">
                <i class="fa fa-user-o fa-2x" aria-hidden="true" id="icon1"></i>
                <input type="password" id="form_retype_password" name="" required="">
                <i class="fa fa-lock" aria-hidden="true"></i>
                <span class="error_form" id="retype_password_error_message"></span>
                <label>
             Re-type Password
            </label>
            </div>
            <div class="button"><input type="button" class="btn btn-success" id="reg_btn" value="Register">
                <input type="button" class="btn btn-primary" id="reset" value="Reset"> </div>
    </div>
    </form>

    <script>
        $(document).ready(function() {
            $("#icon").click(function() {
                if ($(this).hasClass("fa-lock")) {
                    $(this).removeClass("fa-lock");
                    $(this).addClass("fa-unlock-alt");
                    $("#form-password").prop("type", "text");
                } else {
                    $(this).removeClass("fa-unlock-alt");
                    $(this).addClass("fa-lock");
                    $("#form-password").prop("type", "password");
                }
            });
        });


        $(function() {
            alert("cjsdk");
            $("#fname_error_message").hide();

            var error_fname = false;
            var error_sname = false;
            var error_password = false;
            var error_retype_password = false;
            var error_email = false;
            $("#form_name").focusout(function() {
                check_fname();

            });
            $("#form_sname").focusout(function() {
                check_sname();

            });
            $("#form_password").focusout(function() {
                check_password();
            });
            $("#form_retype_password").focusout(function() {
                check_retype_password();
            });
            $("#form_email").focusout(function() {
                check_email();
            });



        });



        function check_fname() {
            //alert("cjsdk");
            var fname_length = $("#form_name").val().length;

            if (fname_length < 5 || fname_length > 20) {
                $("#fname_error_message").html("Should be between 5-20 characters");
                $("#fname_error_message").show();

                error_fname = true;
            } else {
                $("#fname_error_message").hide();
            }
        }

        function check_sname() {
            //alert("cjsdk");
            var sname_length = $("#form_sname").val().length;

            if (sname_length < 5 || sname_length > 20) {
                $("#sname_error_message").html("Should be between 5-20 characters");
                $("#sname_error_message").show();

                error_sname = true;
            } else {
                $("#sname_error_message").hide();
            }
        }


        function check_password() {

            var password_length = $("#form_password").val().length;

            if (password_length < 5) {
                $("#password_error_message").html("Password length should be more than 5 ");
                $("#password_error_message").show();
                error_password = true;
            } else {
                $("#password_error_message").hide();
            }
        }

        function check_retype_password() {

            var password1 = $("#form_password").val();
            var password2 = $("#form_retype_password").val();

            if (password1 != password2) {
                $("#retype_password_error_message").html("Password not matching");
                $("#retype_password_error_message").show();
                error_retype_password = true;
            } else
                $("#retype_password_error_message").hide();

        }

        function check_email() {

            var pattern = new RegExp(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/i);
            if (pattern.test($("#form_email").val())) {

                $("#email_error_message").hide();

            } else {
                $("#email_error_message").html("Invalid email Adress");
                $("#email_error_message").show();
                error_email = true;

            }
        }

        $("#reset").click(function() {

            var form = $(this).closest('form');
            form.find("input[type=text],input[ type=text],input[ type=email],input[ type=password],input[ type=password]").val("");
            return false;
        });
        $("#reg_btn").submit(function() {
            error_fname = false;
            error_sname = false;
            error_email = false;
            error_password = false;
            error_retype_password = false;
            check_fname();
            check_sname();
            check_email();
            check_password();
            check_retype_password();
            if (error_fname === false && error_sname === false && error_email === false && error_password === false && error_retype_password === false) {
                alert("Registration Successfull");
                return true;
            } else {
                alert("Please Fill the form Correctly");
                return false;
            }
        });
    </script>
</body>

</html>